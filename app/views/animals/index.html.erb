<div class="banner">
    <h1>FarmBNB</h1>
    <p>- Full List of Animals -</p>
</div>

<div class="line">
  <div class="d-flex justify-content-center">
    <%= link_to "Add new animal", new_animal_path, class: "btn btn-danger text-white col-sm-4 p-3" %>
  </div>

<hr>
</div>

<div class="container justify-content-center p-4 d-flex">
    <div class="col-6 p-3">
    <%= form_with url: animals_path, method: :get, class: "d-flex" do %>
    <%= text_field_tag :query,
      params[:query],
      class: "form-control",
      placeholder: "cat, dog, bird, goat"
    %>
    <%= submit_tag "Search", class: "btn btn-primary" %>
    <% end %>
    </div>
</div>

<div class="container p-4 d-flex">
  <div class="row flex-row">
    <% @animals.each do |animal| %>
        <div class="col-12 col-md-4 col-sm-4 mb-3 d-flex">
          <div class="card flex-grow-1">
            <div class="card-body">
              <% if animal.photo.key.present? %>
                <%= cl_image_tag(animal.photo.key, cloud_name: 'dzh4zrfev', class: "card-img-top", style: "object-fit: cover; height: 300px;") %>
              <% else %>
                <img src="https://res.cloudinary.com/dzh4zrfev/image/upload/v1676895717/farm_animals.jpg" class="card-img-top" alt="Default Image" style="object-fit: cover; height: 300px;">
              <% end %>
              <div>
                <%= link_to animal_path(animal), class: "text-decoration-none" do  %>
                  <h4 class="card-title pt-3 text-danger"><%= animal.name.capitalize %></h4>
                <% end %>
              </div>
              <p class="text-secondary">Category: <%=animal.category.name%></p>
            </div>
          </div>
        </div>
    <% end %>
  </div>
</div>
